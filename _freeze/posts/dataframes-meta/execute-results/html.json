{
  "hash": "16142e5e51e63830b1c998a1be803846",
  "result": {
    "markdown": "---\ntitle: \"DataFrameMeta\"\nauthor: \"math4mads\"\ndate: \"2023-09-14\"\ncategories: [dataframe, code,julia,anova]\n---\n\n## 1. load package\n\n::: {.cell execution_count=1}\n``` {.julia .cell-code}\nusing DataFrames,DataFramesMeta,PrettyTables,StatsBase\ndf = DataFrame(x = [1, 1, 2, 2], y = [1, 2, 101, 102]);\n@pt df\ngd = groupby(df, :x);\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n┌───────┬───────┐\n│     x │     y │\n│ Int64 │ Int64 │\n├───────┼───────┤\n│     1 │     1 │\n│     1 │     2 │\n│     2 │   101 │\n│     2 │   102 │\n└───────┴───────┘\n```\n:::\n:::\n\n\n## 2. Marcos\n### 2.1 `@select`,`@select!`\n\n::: {.cell execution_count=2}\n``` {.julia .cell-code}\n@pt @select(df, :x, :y)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n┌───────┬───────┐\n│     x │     y │\n│ Int64 │ Int64 │\n├───────┼───────┤\n│     1 │     1 │\n│     1 │     2 │\n│     2 │   101 │\n│     2 │   102 │\n└───────┴───────┘\n```\n:::\n:::\n\n\n::: {.cell execution_count=3}\n``` {.julia .cell-code}\n@pt @select(df, :x2 = 2 * :x, :y)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n┌───────┬───────┐\n│    x2 │     y │\n│ Int64 │ Int64 │\n├───────┼───────┤\n│     2 │     1 │\n│     2 │     2 │\n│     4 │   101 │\n│     4 │   102 │\n└───────┴───────┘\n```\n:::\n:::\n\n\n### 2.2 `@transform` and `@transform!`\n\n::: {.cell execution_count=4}\n``` {.julia .cell-code}\n@pt @transform(df, :x2 = 2 * :x, :y)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n┌───────┬───────┬───────┐\n│     x │     y │    x2 │\n│ Int64 │ Int64 │ Int64 │\n├───────┼───────┼───────┤\n│     1 │     1 │     2 │\n│     1 │     2 │     2 │\n│     2 │   101 │     4 │\n│     2 │   102 │     4 │\n└───────┴───────┴───────┘\n```\n:::\n:::\n\n\n### 2.3 `@subset` and `@subset!`\n\n::: {.cell execution_count=5}\n``` {.julia .cell-code}\n@pt @subset(df, :x .> 1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n┌───────┬───────┐\n│     x │     y │\n│ Int64 │ Int64 │\n├───────┼───────┤\n│     2 │   101 │\n│     2 │   102 │\n└───────┴───────┘\n```\n:::\n:::\n\n\n::: {.cell execution_count=6}\n``` {.julia .cell-code}\n let \n   outside_var = 1;\n   @pt @subset(df, :x .> outside_var, :y .< 102)\n end\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n┌───────┬───────┐\n│     x │     y │\n│ Int64 │ Int64 │\n├───────┼───────┤\n│     2 │   101 │\n└───────┴───────┘\n```\n:::\n:::\n\n\n::: {.cell execution_count=7}\n``` {.julia .cell-code}\n@pt @subset(gd, :x .> mean(:x))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n┌───────┬───────┐\n│     x │     y │\n│ Int64 │ Int64 │\n└───────┴───────┘\n```\n:::\n:::\n\n\n### 2.4 `combine`\n\n::: {.cell execution_count=8}\n``` {.julia .cell-code}\n @pt @combine(gd, :x2 = sum(:y))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n┌───────┬───────┐\n│     x │    x2 │\n│ Int64 │ Int64 │\n├───────┼───────┤\n│     1 │     3 │\n│     2 │   203 │\n└───────┴───────┘\n```\n:::\n:::\n\n\n### 2.5 `orderby`\n\n::: {.cell execution_count=9}\n``` {.julia .cell-code}\n @pt @orderby(df, :x)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n┌───────┬───────┐\n│     x │     y │\n│ Int64 │ Int64 │\n├───────┼───────┤\n│     1 │     1 │\n│     1 │     2 │\n│     2 │   101 │\n│     2 │   102 │\n└───────┴───────┘\n```\n:::\n:::\n\n\n::: {.cell execution_count=10}\n``` {.julia .cell-code}\n @pt @orderby(df, -1. * :x)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n┌───────┬───────┐\n│     x │     y │\n│ Int64 │ Int64 │\n├───────┼───────┤\n│     2 │   101 │\n│     2 │   102 │\n│     1 │     1 │\n│     1 │     2 │\n└───────┴───────┘\n```\n:::\n:::\n\n\n",
    "supporting": [
      "dataframes-meta_files"
    ],
    "filters": [],
    "includes": {}
  }
}